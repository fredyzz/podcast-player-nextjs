{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport Error from './_error';\nimport PodcastList from '../components/PodcastList';\nimport SeriesList from '../components/SeriesList';\nimport Layout from '../components/Layout';\nimport PodcastPlayer from '../components/PodcastPlayer';\n\nconst Channel = ({\n  channel,\n  audioClips,\n  series,\n  statusCode\n}) => {\n  const {\n    0: openPodcast,\n    1: setOpenPodcast\n  } = useState(null);\n\n  const openPodcastModal = (e, podcast) => {\n    e.preventDefault();\n    setOpenPodcast(podcast);\n  };\n\n  const onClose = e => {\n    e.preventDefault();\n    setOpenPodcast(null);\n  };\n\n  if (statusCode !== 200) {\n    return __jsx(Error, {\n      statusCode: statusCode\n    });\n  }\n\n  return __jsx(Layout, {\n    title: \"Podcast\"\n  }, __jsx(\"nav\", {\n    className: \"jsx-4105422955\"\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", {\n    className: \"jsx-4105422955\"\n  }, \"< Back\"))), __jsx(\"div\", {\n    style: {\n      backgroundImage: `url(${channel.urls.banner_image.original})`\n    },\n    className: \"jsx-4105422955\" + \" \" + \"banner\"\n  }), openPodcast && __jsx(\"div\", {\n    className: \"jsx-4105422955\" + \" \" + \"modal\"\n  }, __jsx(PodcastPlayer, {\n    audioClip: openPodcast,\n    onClose: onClose\n  })), __jsx(\"h1\", {\n    className: \"jsx-4105422955\"\n  }, channel.title), __jsx(SeriesList, {\n    series: series\n  }), __jsx(PodcastList, {\n    audioClips: audioClips,\n    openPodcastModal: openPodcastModal\n  }), __jsx(_JSXStyle, {\n    id: \"4105422955\"\n  }, [\"nav.jsx-4105422955{position:absolute;display:inline-block;width:40px;border-radius:25%;background:#222426;box-shadow:7px 7px 14px #1b1c1e,-7px -7px 14px #292c2e;padding:8px;margin:-24px 0 0 30px;}\", \"nav.jsx-4105422955 a.jsx-4105422955{color:white;-webkit-text-decoration:none;text-decoration:none;}\", \".banner.jsx-4105422955{width:100%;padding-bottom:25%;background-position:50% 50%;background-size:cover;background:#222426;box-shadow:7px 7px 14px #1b1c1e,-7px -7px 14px #292c2e;}\", \"h1.jsx-4105422955{color:white;font-weight:600;text-shadow:0 0 11px #222426;padding:5px;text-align:center;}\", \".modal.jsx-4105422955{position:fixed;top:0;left:0;right:0;bottom:0;z-index:99999;background:black;}\"]));\n};\n\nChannel.getInitialProps = async ({\n  query,\n  res\n}) => {\n  try {\n    let idChannel = query.id;\n    let [reqChannel, reqSeries, reqAudios] = await Promise.all([fetch(`https://api.audioboom.com/channels/${idChannel}`), fetch(`https://api.audioboom.com/channels/${idChannel}/child_channels`), fetch(`https://api.audioboom.com/channels/${idChannel}/audio_clips`)]);\n\n    if (reqChannel.status >= 404) {\n      res.statusCode = reqChannel.status;\n      return {\n        channel: null,\n        audioClips: null,\n        series: null,\n        statusCode: reqChannel.status\n      };\n    } // getting channel data\n\n\n    let dataChannel = await reqChannel.json();\n    let channel = dataChannel.body.channel; // getting audios data\n\n    let dataAudios = await reqAudios.json();\n    let audioClips = dataAudios.body.audio_clips; // getting chiled channels data\n\n    let dataSeries = await reqSeries.json();\n    let series = dataSeries.body.channels;\n    return {\n      channel,\n      audioClips,\n      series,\n      statusCode: 200\n    };\n  } catch (err) {\n    res.statusCode = 503;\n    return {\n      channel: null,\n      audioClips: null,\n      series: null,\n      statusCode: 503\n    };\n  }\n};\n\nexport default Channel;","map":null,"metadata":{},"sourceType":"module"}